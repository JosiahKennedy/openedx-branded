/*!
 * clipboard.js v1.5.12
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT Â© Zeno Rocha
 */!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){var o=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t("closest");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return s(document.body,t,e,n)}var c=t("./is"),s=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;a>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},a(t,[{key:"action",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:6}],9:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=a(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return c(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s("action",e)},e.prototype.defaultTarget=function t(e){var n=s("target",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s("text",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});var DateFormat={};!function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],f={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},g=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;a.format=function(){function a(a){return b[parseInt(a,10)]||a}function h(a){return c[parseInt(a,10)]||a}function i(a){var b=parseInt(a,10)-1;return d[b]||a}function j(a){var b=parseInt(a,10)-1;return e[b]||a}function k(a){return f[a]||a}function l(a){var b,c,d,e,f,g=a,h="";return-1!==g.indexOf(".")&&(e=g.split("."),g=e[0],h=e[e.length-1]),f=g.split(":"),3===f.length?(b=f[0],c=f[1],d=f[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),g=g.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:g,hour:b,minute:c,second:d,millis:h}):{time:"",hour:"",minute:"",second:"",millis:""}}function m(a,b){for(var c=b-String(a).length,d=0;c>d;d++)a="0"+a;return a}return{parseDate:function(a){var b,c,d={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof a)return this.parseDate(new Date(a));if("function"==typeof a.getFullYear)d.year=String(a.getFullYear()),d.month=String(a.getMonth()+1),d.dayOfMonth=String(a.getDate()),d.time=l(a.toTimeString()+"."+a.getMilliseconds());else if(-1!=a.search(g))b=a.split(/[T\+-]/),d.year=b[0],d.month=b[1],d.dayOfMonth=b[2],d.time=l(b[3].split(".")[0]);else switch(b=a.split(" "),6===b.length&&isNaN(b[5])&&(b[b.length]="()"),b.length){case 6:d.year=b[5],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[3]);break;case 2:c=b[0].split("-"),d.year=c[0],d.month=c[1],d.dayOfMonth=c[2],d.time=l(b[1]);break;case 7:case 9:case 10:d.year=b[3],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[4]);break;case 1:c=b[0].split(""),d.year=c[0]+c[1]+c[2]+c[3],d.month=c[5]+c[6],d.dayOfMonth=c[8]+c[9],d.time=l(c[13]+c[14]+c[15]+c[16]+c[17]+c[18]+c[19]+c[20]);break;default:return null}return d.date=d.time?new Date(d.year,d.month-1,d.dayOfMonth,d.time.hour,d.time.minute,d.time.second,d.time.millis):new Date(d.year,d.month-1,d.dayOfMonth),d.dayOfWeek=String(d.date.getDay()),d},date:function(b,c){try{var d=this.parseDate(b);if(null===d)return b;for(var e,f=d.year,g=d.month,k=d.dayOfMonth,l=d.dayOfWeek,n=d.time,o="",p="",q="",r=!1,s=0;s<c.length;s++){var t=c.charAt(s),u=c.charAt(s+1);if(r)"'"==t?(p+=""===o?"'":o,o="",r=!1):o+=t;else switch(o+=t,q="",o){case"ddd":p+=a(l),o="";break;case"dd":if("d"===u)break;p+=m(k,2),o="";break;case"d":if("d"===u)break;p+=parseInt(k,10),o="";break;case"D":k=1==k||21==k||31==k?parseInt(k,10)+"st":2==k||22==k?parseInt(k,10)+"nd":3==k||23==k?parseInt(k,10)+"rd":parseInt(k,10)+"th",p+=k,o="";break;case"MMMM":p+=j(g),o="";break;case"MMM":if("M"===u)break;p+=i(g),o="";break;case"MM":if("M"===u)break;p+=m(g,2),o="";break;case"M":if("M"===u)break;p+=parseInt(g,10),o="";break;case"y":case"yyy":if("y"===u)break;p+=o,o="";break;case"yy":if("y"===u)break;p+=String(f).slice(-2),o="";break;case"yyyy":p+=f,o="";break;case"HH":p+=m(n.hour,2),o="";break;case"H":if("H"===u)break;p+=parseInt(n.hour,10),o="";break;case"hh":e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=m(e,2),o="";break;case"h":if("h"===u)break;e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=parseInt(e,10),o="";break;case"mm":p+=m(n.minute,2),o="";break;case"m":if("m"===u)break;p+=n.minute,o="";break;case"ss":p+=m(n.second.substring(0,2),2),o="";break;case"s":if("s"===u)break;p+=n.second,o="";break;case"S":case"SS":if("S"===u)break;p+=o,o="";break;case"SSS":var v="000"+n.millis.substring(0,3);p+=v.substring(v.length-3),o="";break;case"a":p+=n.hour>=12?"PM":"AM",o="";break;case"p":p+=n.hour>=12?"p.m.":"a.m.",o="";break;case"E":p+=h(l),o="";break;case"'":o="",r=!0;break;default:p+=t,o=""}}return p+=q}catch(w){return console&&console.log&&console.log(w),b}},prettyDate:function(a){var b,c,d;return("string"==typeof a||"number"==typeof a)&&(b=new Date(a)),"object"==typeof a&&(b=new Date(a.toString())),c=((new Date).getTime()-b.getTime())/1e3,d=Math.floor(c/86400),isNaN(d)||0>d?void 0:60>c?"just now":120>c?"1 minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"1 hour ago":86400>c?Math.floor(c/3600)+" hours ago":1===d?"Yesterday":7>d?d+" days ago":31>d?Math.ceil(d/7)+" weeks ago":d>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(a,b){return this.date(new Date(a),b||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(a){a.format=DateFormat.format}(jQuery);$(document).ready(function(){$('.btn-change-assignment').click(function(e){var apiEndpoint=$(this).data('api-endpoint'),roleName=$(this).data('role'),$selectedOption=$('#selectUsers-'+roleName+' option:selected'),userId=$selectedOption.val(),userName=$selectedOption.text();e.preventDefault();$.ajax({url:apiEndpoint,type:'PATCH',data:JSON.stringify({'user':userId}),contentType:'application/json',success:function(response){location.reload();}});});$('.change-role-assignment').click(function(e){var roleName=$(this).data('role');e.preventDefault();$('#changeRoleContainer-'+roleName).show();$('#userRoleContainer-'+roleName).hide();});$('#btn_accept_revision').hide();$("#id_select_revisions ").find('[data-reversion-value="'+$('#btn_accept_revision').data('most-recent-revision-id')+'"]').attr("selected","selected").change();});$(document).ready(function(){var org_id=$('#organization-name').data('org_id');if(org_id){loadAdminUsers(org_id);}});$(document).on('change','#id_organization',function(e){var org_id=this.value;$("#id_team_admin").prop("selectedIndex",0);if(org_id){loadAdminUsers(org_id);}});function loadAdminUsers(org_id){$.getJSON({url:'/publisher/api/admins/organizations/'+org_id+'/users/',success:function(data){var teamAdminDropDown=$('#id_team_admin'),selectedTeamAdmin=$('#id_team_admin option:selected').val(),organizationInputType=$('#id_organization').attr('type'),currentUser=teamAdminDropDown.data('user');teamAdminDropDown.empty();if(organizationInputType=='hidden'){teamAdminDropDown.append('<option>---------</option>');}else{teamAdminDropDown.append('<option selected="selected">---------</option>');}
$.each(data.results,function(i,user){if((selectedTeamAdmin==user.id&&organizationInputType==='hidden')||currentUser==user.id){teamAdminDropDown.append($('<option selected="selected"> </option>').val(user.id).html(user.full_name));}else{teamAdminDropDown.append($('<option> </option>').val(user.id).html(user.full_name));}});}});}
$(document).on('click','.btn-add-comment',function(e){e.preventDefault();var frm_comment=$(this).closest("#frm_comment"),comment_box=frm_comment.find("#id_comment");if(!comment_box.val()){comment_box.addClass('has-error');comment_box.focus();}
else{$(frm_comment).submit();}});$(document).on('click','.comment-edit',function(e){e.preventDefault();var parentDt=this.closest('dt'),editableControlsHtml='<div class="edit-controls"><button class="btn-brand btn-small comment-save">Save</button>'+'<button class="btn-brand btn-small comment-cancel">Cancel</button></div>';$(parentDt).prev('dd').attr('contenteditable','True').addClass('editable-comment');$(parentDt).prev('dd').after(editableControlsHtml);$('.editable-comment').data('oldComment',$('.edit-controls').prev().text());$('.editable-comment').focus();$(parentDt).hide();});$(document).on('click','.comment-cancel',function(e){e.preventDefault();cancelHtmlRender();});$(document).on('click','.comment-save',function(e){e.preventDefault();var editableControls=$('.edit-controls'),editableDd=$(editableControls).prev(),updatedComment=$(editableDd).text(),oldComment=$('.editable-comment').data('oldComment');if(updatedComment===''){$(editableDd).focus();return}
if(updatedComment===oldComment){cancelHtmlRender();return}
$.ajax({type:"PATCH",url:$(editableControls).next().find('button').data('url'),data:{'comment':updatedComment},success:function(response){var formattedDatetime;removeEditable(editableControls,editableDd);$(editableDd).text(response['comment']);formattedDatetime=$.format.date(response['modified'],'MMMM dd, yyyy, hh:mm p');$(editableDd).prev('dt').find('span.datetime').text(formattedDatetime);},error:function(){alert("Unable to edit comment this time, Please try again later.");removeEditable(editableControls,editableDd);}});});function cancelHtmlRender(){var editableControls=$('.edit-controls'),editableDd=$(editableControls).prev();editableDd.text($('.editable-comment').data('oldComment'));editableControls.hide();removeEditable(editableControls,editableDd)}
function removeEditable(editableControls,editableDd){$(editableControls).remove();$(editableDd).removeAttr('contenteditable').removeClass('editable-comment');$(editableDd).next('dt').show();}
$(document).ready(function(){$(".administration-nav .tab-container > button").click(function(event){event.preventDefault();$(this).addClass("selected");$(this).siblings().removeClass("selected");var tab=$(this).data("tab");$(".tab-content").not(tab).css("display","none");$(tab).fadeIn();});$('ul.tabs .course-tabs').click(function(){var tab_id=$(this).attr('data-tab'),$tabContent=$(this).closest('.row').siblings("#"+tab_id);$(this).parent().find('.course-tabs').removeClass('active');$tabContent.siblings('.content').removeClass('active');$(this).addClass('active');$tabContent.addClass('active');});});$(document).ready(function(){$('.btn-accept').click(function(e){$.ajax({type:"PATCH",url:$(this).data('url'),data:JSON.stringify({preview_accepted:true}),contentType:"application/json",success:function(response){location.reload();},error:function(response){addModalError(gettext("Something went wrong!"));console.log(response);}});});});$(document).on('click','.btn-edit-preview-url',function(e){var $previewUrl=$('.preview-url'),currentUrl=$previewUrl.find('a').attr('href'),html='<input id="id-review-url" type="text" value='+currentUrl+'>';$(this).addClass('btn-save-preview-url').removeClass('btn-edit-preview-url');$(this).text(gettext("Save"));$('.preview-status').remove();$previewUrl.html(html);$('#id-review-url').focus();});$('.btn-preview-decline').click(function(e){$('#decline-comment').toggle();});$(document).on('click','.btn-save-preview-url',function(e){preview_url=$('#id-review-url').val();if(!preview_url){showInvalidPreviewUrlError();return}
$.ajax({type:"PATCH",url:$(this).data('url'),data:JSON.stringify({'preview_url':preview_url}),contentType:"application/json",success:function(response){location.reload();},error:function(response){showInvalidPreviewUrlError();}});});function showInvalidPreviewUrlError(){$('#id-review-url').addClass('has-error');$('.error-message').html(gettext("Please enter a valid URL."));}
$(document).ready(function(){$('.btn-change-state, .btn-publish').click(function(e){$.ajax({type:"PATCH",url:$(this).data('change-state-url'),data:JSON.stringify({name:$(this).data('state-name')}),contentType:"application/json",success:function(response){location.reload();},error:function(response){if(response.responseJSON){$('#stateChangeError').html(response.responseJSON.name);}else{$('#stateChangeError').html(gettext('Something went wrong! please try again later.'));}
$('#stateChangeAlert').show();console.log(response);}});});});$(document).ready(function(){$(document).click(function(e){var modal=$('.modal');if(event.target==modal[0]){closeModal(e,modal);}});$('.closeModal').click(function(e){closeModal(e,$('.modal'));});$('.btn-course-edit').click(function(e){$('#editWarningModal').show();$('body').addClass('stopScroll');});$('.btn-courserun-edit').click(function(e){$('#editCourseRun').show();$('body').addClass('stopScroll');});$('.btn-preview-accept').click(function(e){$('#acceptPreviewModal').show();$('body').addClass('stopScroll');});$('.btn-instructor-detail').click(function(e){event.preventDefault();var data=staffData[$(this).data('staff_id')];$('#instructorProfileModal').show();$('body').addClass('stopScroll');resetModalData();$('#instructorProfileModal div.full_name').html(data.full_name);$('#instructorProfileModal div.organization').html(data.organization);$('#instructorProfileModal img.image_url').attr('src',data.image_url);$('#instructorProfileModal a.btn-download').attr('href',data.image_url);$('#instructorProfileModal div.position').html(data.position);$('#instructorProfileModal div.bio').html(data.bio);$('#instructorProfileModal div.major-works').html(data.major_works);data.social_networks.forEach(function(socialNetwork){var socialLinkHtml='<div class="instructor-list-item-view">';if(socialNetwork.title)socialLinkHtml+=socialNetwork.title+': ';socialLinkHtml+='<a target="_blank">'+socialNetwork.url+'</a>';socialLinkHtml+='</div>';$('.social-links').append(socialLinkHtml);});data.areas_of_expertise.forEach(function(areaOfExpertise){var areaOfExpertiseHtml='<div class="instructor-list-item-view"><p>'+areaOfExpertise.value+'</p></div>';$('.areas-of-expertise').append(areaOfExpertiseHtml);});assignData('.profile_url',data.profile_url);});});function closeModal(event,modal){event.preventDefault();if(modal.attr('id')=='addInstructorModal'){resetInstructorModalData();}
modal.hide();$('body').removeClass('stopScroll');}
function addModalError(errorMessage){var errorHtml='<div class="alert alert-error" role="alert" aria-labelledby="alert-title-error" tabindex="-1">'+'<div><p class="alert-copy">'+errorMessage+'</p></div></div>';$('#modal-errors').html(errorHtml);$('#modal-errors').show();$('.modal').scrollTop(0);}
function clearModalError($modal){$('#modal-errors').html('');$('#modal-errors').hide();}
function resetModalData(){$('#instructorProfileModal div.full_name').html('');$('#instructorProfileModal div.organization').html('');$('#instructorProfileModal img.image_url').attr('src','#');$('#instructorProfileModal div.position').html('');$('#instructorProfileModal a.btn-download').attr('href','#');$('#instructorProfileModal div.bio').html('');$('.instructor-list-item-view').remove();assignData('.profile_url','#');}
function assignData(element,data){$(element).attr("href",data);$(element+'_copy').html(data);}
function resetInstructorModalData(){var imgPath='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==',selectors=['#given-name','#family-name','#title','#bio','#majorWorks'];$('#addInstructorModal div img').attr('src',imgPath);for(var i in selectors)clearData(selectors[i]);$('.social-link').remove();$('.area-of-expertise').remove();}
function clearData(selector){$('#addInstructorModal div '+selector).val('');}'use strict';new Clipboard(".btn-copy",{text:function(trigger){return $(trigger).parent().next('.copy').html().trim();}});function updateAlert(msg,isError){var $alertContainer=$('#alertContainer'),alertClassToAdd=isError?'alert-error':'alert-success',alertClassToRemove=isError?'alert-success':'alert-error',iconClassToAdd=isError?'fa-warning':'fa-check',iconClassToRemove=isError?'fa-check':'fa-warning';$alertContainer.removeClass('hidden').removeClass(alertClassToRemove).addClass(alertClassToAdd);$('.alert-icon',$alertContainer).removeClass(iconClassToRemove).addClass(iconClassToAdd);$('.alert-title',$alertContainer).text(msg);$('.alert-copy',$alertContainer).text(msg);}
function showSuccessAlert(msg){updateAlert(msg,false);}
function showFailureAlert(msg){updateAlert(msg,true);}
function publish(url){$.ajax({type:'POST',url:url,contentType:'application/json'}).done(function(data,textStatus,jqXHR){showSuccessAlert('Successfully published to Studio, E-Commerce, and Discovery.');}).fail(function(jqXHR,textStatus,errorThrown){showFailureAlert('Publication failed. \n'+jqXHR.responseText);});}