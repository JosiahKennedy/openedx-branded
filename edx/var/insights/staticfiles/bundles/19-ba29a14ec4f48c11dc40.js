webpackJsonp([19],{963:function(t,e,n){"use strict";var i,r;i=[n(176),n(16),n(964),n(965),n(966),n(826)],void 0!==(r=function(t,e,n,i,r,a){var o=function(n,i,r){e(t('[data-track-type="'+n+'"]')).each(function(e){var n,o=a.getNodeProperties(e.attributes,"data-track-",["data-track-event","data-track-triggered"]);n=new i({model:r.trackingModel,trackEventType:t(e).attr("data-track-event"),trackProperties:o,el:e}),n.renderIfHasEventType()})};return function(t){var e;t.trackingModel.isTracking()&&(e=new r({el:document,model:t.trackingModel,userModel:t.userModel,courseModel:t.courseModel}),e.applicationIdSet(),o("click",n,t),o("hover",i,t))}}.apply(e,i))&&(t.exports=r)},964:function(t,e,n){"use strict";var i,r;i=[n(16),n(824)],void 0!==(r=function(t,e){return e.View.extend({initialize:function(t){this.options=t},render:function(){var t=this;return t.$el.click(function(){t.model.trigger("segment:track",t.options.trackEventType,t.options.trackProperties)}),this},renderIfHasEventType:function(){var e=this;t(e.options).has("trackEventType")&&e.render()}})}.apply(e,i))&&(t.exports=r)},965:function(t,e,n){"use strict";var i,r;i=[n(16),n(824)],void 0!==(r=function(t,e){return e.View.extend({initialize:function(t){this.options=t},render:function(){var t=this;return t.$el.one("mouseenter",function(){t.model.trigger("segment:track",t.options.trackEventType,t.options.trackProperties)}),this},renderIfHasEventType:function(){var e=this;t(e.options).has("trackEventType")&&e.render()}})}.apply(e,i))&&(t.exports=r)},966:function(t,e,n){"use strict";var i,r;i=[n(824),n(176),n(16),n(826)],void 0!==(r=function(t,e,n,i){return t.View.extend({segment:void 0,events:{"shown.bs.tooltip":"trackElementEvent","clicked.tracking":"trackElementEvent"},initialize:function(t){var e=this;e.options=t,e.listenToOnce(e.model,"change:segmentApplicationId",e.applicationIdSet)},applicationIdSet:function(){var t=this,e=t.model.get("segmentApplicationId");t.model.isTracking()&&(t.initSegment(e),t.logUser(),t.segment.page(t.buildCourseProperties()),t.listenTo(t.model,"segment:track",t.track),t.listenTo(t.model,"segment:page",t.page))},trackElementEvent:function(t){var r=this,a=t.target,o=i.getNodeProperties(a.attributes,"data-track-",["data-track-event","data-track-triggered"]),s=e(a).attr("data-track-event"),c=e(a).attr("data-track-type"),d=e(a).attr("data-track-triggered");!r.model.isTracking()||n.isEmpty(s)||!n.isString(s)||"tooltip"===c&&d||(r.track(s,o),e(a).attr("data-track-triggered","true"))},initSegment:function(t){var e=this;if(n.isUndefined(e.segment)){window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),window.analytics.push(e),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var r=window.analytics.methods[i];window.analytics[r]=window.analytics.factory(r)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var e=document.createElement("script");e.type="text/javascript",e.id="analytics-js",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}},window.analytics.SNIPPET_VERSION="2.0.9",e.segment=window.analytics}e.segment.load(t)},logUser:function(){var t=this,e=t.options.userModel;t.segment.identify(e.get("userTrackingID"),{name:e.get("name"),username:e.get("username"),email:e.get("email"),ignoreInReporting:e.get("ignoreInReporting")})},buildCourseProperties:function(){var t=this,e={};return t.options.courseModel&&(e.courseId=t.options.courseModel.get("courseId"),e.org=t.options.courseModel.get("org")),t.model.has("page")&&(e.current_page=t.model.get("page"),e.label=t.model.get("page").name),e},transformPropertiesFromHTMLAttributes:function(t){var e,n=t,i=[],r=["scope","lens","report","depth"];return"target-scope"in n&&(n.target_page={},r.forEach(function(t){e=n["target-"+t]||"",n.target_page[t]=e,""!==e&&void 0!==e&&i.push(e),delete n["target-"+t]}),n.target_page.name=i.join("_")),"menu-depth"in n&&(n.menu_depth=n["menu-depth"]||"",delete n["menu-depth"]),"link-name"in n&&(n.link_name=n["link-name"]||"",delete n["link-name"]),"menu_depth"in n&&"link_name"in n&&!("category"in n)&&(n.category=n.menu_depth+"+"+n.link_name),n},track:function(t,e){var i,r=this,a=r.buildCourseProperties();i=r.transformPropertiesFromHTMLAttributes(e),r.segment.track(t,n.extend(a,i))},page:function(t,e){this.segment.page(t,n.extend({},this.buildCourseProperties(),e))}})}.apply(e,i))&&(t.exports=r)}});
//# sourceMappingURL=19-ba29a14ec4f48c11dc40.js.map